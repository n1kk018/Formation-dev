<ui:composition	xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html" template="/templates/common.xhtml">
			<ui:define name="pageTitle">espace Client</ui:define>
			<ui:define name="pageHeader"><h3><h:outputText value="#{myJsfProperties.welcome}" /></h3></ui:define>
			<ui:define name="body">
				Nom :<h:outputText value="#{user.nom}" /><br />
				Prénom :<h:outputText value="#{user.prenom}"/><br />
				Adresse :<h:outputText value="#{user.adresse}"/><br />
				<form jsfc="h:form" id="Form1">
					<!--<h:commandButton action="" value="afficher les  comptes" />-->
					<h:dataTable value="#{user.comptes}" var="rowVar" border="1"
						headerClass="tab_heading" rowClasses="odd,even" rendered="#{not empty mbBankWeb.user.comptes}">						
					<h:column>
						<f:facet name="header">
							<f:verbatim>Nom</f:verbatim>
						</f:facet>
						<h:outputText value="#{rowVar.libelle}"/>
					</h:column>
					<h:column>
							<f:facet name="header">
								<f:verbatim></f:verbatim>
							</f:facet>
							<h:commandLink  action="#{mbBankWeb.chargerOperations}" value="Voir opérations">
								<f:param value="#{rowVar}"></f:param>
								<f:ajax event="click" render="tabOpWrapper"   />
							</h:commandLink>
					</h:column>	
				</h:dataTable>
				<h:panelGrid id="tabOpWrapper" columns="1">
					<h:dataTable id="tabOp" value="#{listeOp}" var="rowVar" border="1"
						headerClass="tab_heading" rowClasses="odd,even" rendered="#{not empty listeOp}"> 
						<h:column>
							<f:facet name="header">
								<f:verbatim>Label</f:verbatim>
							</f:facet>
							<h:outputText value="#{rowVar.label}"/>
						</h:column>
						<h:column>
							<f:facet name="header">
								<f:verbatim>Montant</f:verbatim>
							</f:facet>
							<h:outputText value="#{rowVar.montant}"/>
						</h:column>
					</h:dataTable>
				</h:panelGrid>
			</form>
		</ui:define>
</ui:composition>